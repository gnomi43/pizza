(this["webpackJsonppizza-web"]=this["webpackJsonppizza-web"]||[]).push([[0],Array(18).concat([function(e,a,t){var r={"./pizza_1.webp":40,"./pizza_2.webp":41,"./pizza_3.webp":42,"./pizza_4.webp":43,"./pizza_5.webp":44,"./pizza_6.webp":45,"./pizza_7.webp":46,"./pizza_8.webp":47,"./pizza_9.webp":48};function n(e){var a=i(e);return t(a)}function i(e){if(!t.o(r,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=18},,,,function(e,a,t){e.exports=t(56)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,,function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/logo.609606ec.png"},function(e,a,t){},function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/pizza_1.66755e29.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_2.4fedd2af.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_3.fec6f079.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_4.5b617550.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_5.68d1a366.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_6.47db411d.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_7.513ace6e.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_8.d4093847.webp"},function(e,a,t){e.exports=t.p+"static/media/pizza_9.d9ea8f1e.webp"},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(19),s=t.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(27);var c=t(21),l=t(2),o=t(3),m=t(5),u=t(4),p=t(7),d=t(1),h=(t(28),t(29),t(30),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props.quantity;return n.a.createElement(p.b,{className:"header__basket-link",to:"/basket/"},n.a.createElement("div",{className:"header__basket"},n.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",className:"c6j1","data-v-414055a2":""},n.a.createElement("g",{fill:"none",fillRule:"evenodd","data-v-414055a2":""},n.a.createElement("path",{d:"M0 0h24v24H0z","data-v-414055a2":""}),n.a.createElement("path",{d:"M6 6a4 4 0 014-4h4a4 4 0 014 4v2h5.133L21.82 18.496A4 4 0 0117.85 22H6.149a4 4 0 01-3.969-3.504L.867 8H6V6zm6 2a1 1 0 010 2H3.133l1.03 8.248A2 2 0 006.149 20h11.704a2 2 0 001.984-1.752L20.867 10H16V6a2 2 0 00-2-2h-4a2 2 0 00-2 2v2h4z",fill:"currentColor",fillRule:"nonzero","data-v-414055a2":""}))),n.a.createElement("div",{className:"header__quantity"},e)))}}]),t}(n.a.Component)),f=(t(36),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).updateCurPrice=function(a){e.props.updateCurPrice(a.target.value)},e}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"current-price"},n.a.createElement("input",{type:"radio",className:"current-price__input",id:"euro",value:"euro",onClick:this.updateCurPrice,checked:"euro"===this.props.currentPrice,readOnly:!0}),n.a.createElement("label",{htmlFor:"euro",className:"current-price__label"},"EUR"),n.a.createElement("input",{type:"radio",className:"current-price__input",id:"dollar",value:"dollar",onClick:this.updateCurPrice,checked:"dollar"===this.props.currentPrice,readOnly:!0}),n.a.createElement("label",{htmlFor:"dollar",className:"current-price__label"},"USD"))}}]),t}(n.a.Component)),_=function(e){var a=e.updateCurPrice,r=e.currentPrice,i=e.quantity,s=e.state,c=e.logOut,l=s.user,o=n.a.createElement(p.b,{className:"header__authorization",to:"/login"},n.a.createElement("div",{className:"header__authorization-wrapper"},n.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",className:"a7q3","data-v-414055a2":""},n.a.createElement("g",{fill:"none",fillRule:"evenodd","data-v-414055a2":""},n.a.createElement("path",{d:"M0 0h24v24H0z","data-v-414055a2":""}),n.a.createElement("path",{d:"M7 12.1c-.26 0-.52-.11-.71-.292a1.062 1.062 0 01-.29-.714c0-.262.11-.524.29-.715a1.042 1.042 0 011.42 0c.18.191.29.453.29.715 0 .261-.11.523-.29.714-.19.181-.45.292-.71.292zm10 0c-.26 0-.52-.11-.71-.29-.09-.1-.16-.21-.21-.331a.998.998 0 01-.08-.38c0-.13.03-.261.08-.381s.12-.23.21-.33c.28-.271.72-.371 1.09-.211.13.05.23.12.33.21.09.1.16.21.21.33.05.12.08.251.08.381s-.03.26-.08.381c-.05.12-.12.23-.21.33-.19.18-.45.291-.71.291zm-8.207 4.704a1 1 0 011.414-1.414c.99.99 2.596.99 3.586 0a1 1 0 011.414 1.414 4.537 4.537 0 01-6.414 0zM3.5 11.864c0 5.071 4.405 9.027 9.51 8.442 3.77-.433 6.876-3.455 7.402-7.204.411-2.927-.66-5.734-2.79-7.614a8.473 8.473 0 00-3.496-1.857 1 1 0 01.498-1.937 10.473 10.473 0 014.32 2.294c2.63 2.32 3.955 5.792 3.449 9.392-.653 4.653-4.48 8.376-9.156 8.912C6.943 23.014 1.5 18.127 1.5 11.863c0-4.819 3.273-8.985 7.876-10.17l1.249-.32v1.29a3.45 3.45 0 003.45 3.45h.3a1 1 0 010 2h-.3A5.453 5.453 0 018.789 3.99 8.507 8.507 0 003.5 11.863z",fill:"currentColor",fillRule:"nonzero","data-v-414055a2":""}))),n.a.createElement("div",{className:"header__authorization-text"},"Sign in")));if(l){var m=s.user.name;o=n.a.createElement("div",{className:"header__authorization-wrapper"},n.a.createElement("div",{className:"header__authorization-login"},n.a.createElement(p.b,{className:"header__authorization-user",to:"/user-info"},m)),n.a.createElement("div",{className:"header__authorization-logout",onClick:c},"Log out"))}return n.a.createElement("header",{className:"header container"},n.a.createElement(p.b,{to:"/",className:"header__logo"},n.a.createElement("img",{src:t(37),width:"40",height:"40",alt:"logo pizza"})),n.a.createElement("p",{className:"header__tagline"},"We Create The Best Pizza"),n.a.createElement(f,{updateCurPrice:a,currentPrice:r}),o,n.a.createElement(h,{quantity:i}))},b=(t(38),t(39),function(e){Object(m.a)(r,e);var a=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={quantity:1},e.quantityUpdate=function(a){var t=parseInt(a.target.value);e.setState({quantity:t})},e.onSubmit=function(a){a.preventDefault();var t=e.props.item,r=t.id,n=t.price,i=t.name;e.props.addToBasket(r,e.state.quantity,n,i),e.setState({quantity:1})},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props.item,a=e.id,r=e.name,i=e.desc,s=this.props.item.price,c="$";return"euro"===this.props.currentPrice&&(s=Number((.8*s).toFixed(2)),c="\u20ac"),n.a.createElement("li",{className:"menu__item",key:a},n.a.createElement("form",{className:"menu__item-form",onSubmit:this.onSubmit},n.a.createElement("div",{className:"menu__item-img"},n.a.createElement("img",{src:t(18)("./pizza_".concat(a,".webp")),width:"200",height:"200",alt:"pizza"})),n.a.createElement("p",{className:"menu__item-name"},r),n.a.createElement("p",{className:"menu__item-description"},i),n.a.createElement("div",{className:"menu__input-wrapper"},n.a.createElement("input",{onChange:this.quantityUpdate,className:"menu__item-quantity",type:"number",placeholder:"1",min:"1",max:"20",step:"1"}),n.a.createElement("p",{className:"menu__item-price"},s," ",c),n.a.createElement("input",{className:"menu__item-submit",type:"submit",value:"Add"}))))}}]),r}(n.a.Component)),E=[{id:1,name:"The Meats",desc:"Chicken, Ground Beef, Pepperoni, Sausage",price:15},{id:2,name:"The Works",desc:"Variety of Meats, Veggies and Cheese",price:14},{id:3,name:"Meatball Pepperoni",desc:"From Italy with Love",price:12},{id:4,name:"Super Hawaiian",desc:"For Fans of Pineapple and Ham",price:17},{id:5,name:"Ultimate Pepperoni",desc:"Double Pepperoni with Cheese and Tomatoes",price:18},{id:6,name:"Zesty Italian Trio",desc:"Italian Sausage, Salami, and Pepperoni with Banana Peppers",price:12},{id:7,name:"Fiery Buffalo Chicken",desc:"Spicy Chicken with Bacon, Onions and Mozzarella",price:11},{id:8,name:"Pepperoni, Sausage & Six Cheese",desc:"All In",price:10},{id:9,name:"BBQ Chicken Bacon",desc:"Grilled Chicken with Bacon, Topped with BBQ Sauce",price:20}],v=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this,a=E.map((function(a){return n.a.createElement(b,{item:a,key:a.id,addToBasket:e.props.addToBasket,currentPrice:e.props.currentPrice})}));return n.a.createElement("div",{className:"menu container"},n.a.createElement("ul",{className:"menu__list"},a))}}]),t}(n.a.Component),N=(t(49),t(50),function(e){Object(m.a)(r,e);var a=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).updateQuantity=function(a){var t=e.props.item.id,r=parseInt(a.target.value);e.props.quantity(t,r)},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props.item,a=e.id,r=e.quantity,i=e.name,s=this.props.item.price,c="$";return"euro"===this.props.currentPrice&&(s=Number((.8*s).toFixed(2)),c="\u20ac"),n.a.createElement("li",{className:"basket__item",key:a},n.a.createElement("img",{className:"basket__item-img",src:t(18)("./pizza_".concat(a,".webp")),alt:a}),n.a.createElement("div",{className:"basket__item-name"},i),n.a.createElement("div",{className:"basket__item-input"},n.a.createElement("span",{className:"basket__item-input"},"Quantity"),n.a.createElement("input",{className:"basket__item-quantity",type:"number",name:"quantity",id:"quantity",min:"0",max:"20",onChange:this.updateQuantity,value:r})),n.a.createElement("div",{className:"basket__item-price"},s," ",c),n.a.createElement("div",{className:"basket__item-total"}," Price  ",(s*r).toFixed(1)," ",c))}}]),r}(n.a.Component)),y=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e,a=this.props,t=a.basket,r=a.currentPrice,i=a.quantity,s=null,c=0,l=5,o="$";return t&&(s=t.map((function(e){return c+=e.quantity*e.price,n.a.createElement(N,{item:e,key:e.id,currentPrice:r,quantity:i})}))),"euro"===r&&(l=Number((.8*l).toFixed(2)),c=Number((.8*c).toFixed(2)),o="\u20ac"),e=c+l,s&&s.length>0?n.a.createElement("div",{className:"basket container"},n.a.createElement("div",{className:"basket__wrapper"},n.a.createElement("h1",{className:"basket__title"},"Cart"),n.a.createElement("ul",{className:"basket__list"},s),n.a.createElement("div",{className:"basket__total"},n.a.createElement("p",{className:"basket__total-calc"},"Item Total: ",c," ",o),n.a.createElement("p",{className:"basket__total-calc"},"Delivery: ",l," ",o),n.a.createElement("p",{className:"basket__total-text"},"Total: ",e," ",o)),n.a.createElement(p.b,{to:"/basket/order",className:"basket__total-buy"},"Checkout"))):n.a.createElement("div",{className:"basket container"},n.a.createElement("div",{className:"basket__empty"},"Cart is empty"))}}]),t}(n.a.Component),g=(t(51),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={successForm:!1},e.onOrderSucces=function(a){a.preventDefault(),e.setState({successForm:!0})},e}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props,a=e.basket,t=e.currentPrice;if(!a)return n.a.createElement(d.a,{to:"/basket"});var r=5,i=0,s="$";return a&&a.map((function(e){return i+=e.quantity,r+=e.quantity*e.price})),"euro"===t&&(r=Number((.8*r).toFixed(2)),s="\u20ac"),this.state.successForm?n.a.createElement("div",{className:"order container"},n.a.createElement("h2",{className:"order__form-title"},"POP-UP CONFIRMATION"),n.a.createElement("p",{className:"order__form-text"}," Thank you! We have received your order and your pizza will arrive at your door within 30 minutes!")):n.a.createElement("div",{className:"order container"},n.a.createElement("form",{className:"order__form",method:"post",onSubmit:this.onOrderSucces},n.a.createElement("h2",{className:"order__form-title"},"Create order"),n.a.createElement("div",{className:"order__form-inputs"},n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"name"},"Name"),n.a.createElement("input",{className:"form-input",type:"text",name:"name",placeholder:"Your name",id:"name",required:!0})),n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"phone"},"Phone"),n.a.createElement("input",{className:"form-input",type:"tel",name:"phone",placeholder:"Your phone",id:"phone",required:!0})),n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"phone"},"Email"),n.a.createElement("input",{className:"form-input",type:"email",name:"email",placeholder:"Your email",id:"email"})),n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"address"},"Address"),n.a.createElement("textarea",{className:"form-textarea",name:"address",placeholder:"Your address",id:"address",required:!0}))),n.a.createElement("div",{className:"order__form-details"},n.a.createElement("div",{className:"form-detail"},"Quantity ",i),n.a.createElement("div",{className:"form-detail"},"Total  ",r," ",s)),n.a.createElement("input",{type:"number",name:"total",value:r,hidden:!0,readOnly:!0}),n.a.createElement("button",{className:"order__form-submit",type:"submit"},"Submit")))}}]),t}(n.a.Component)),w=(t(52),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={email:"",password:""},e.onEmailChange=function(a){e.setState({email:a.target.value})},e.onPasswordChange=function(a){e.setState({password:a.target.value})},e.onSubmit=function(a){a.preventDefault(),e.props.loginUser(e.state.email,e.state.password),e.setState({email:"",password:""})},e}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props.isAuth,a=this.state,t=a.email,r=a.password,i=null;return"error"===e&&(i=n.a.createElement("div",{className:"login__error"},"Wrong password or user name.")),"ok"===e?n.a.createElement(d.a,{to:"/"}):n.a.createElement("div",{className:"login container"},n.a.createElement("h2",{className:"login__form-title"},"Sign in"),n.a.createElement("form",{className:"login__form",method:"post",onSubmit:this.onSubmit},i,n.a.createElement("div",{className:"login__form-inputs"},n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"email"},"E-mail"),n.a.createElement("input",{className:"form-input",type:"email",name:"email",placeholder:"Your name",onChange:this.onEmailChange,value:t,id:"email",required:!0})),n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"password"},"Password"),n.a.createElement("input",{className:"form-input",type:"password",name:"password",placeholder:"Your password",onChange:this.onPasswordChange,value:r,id:"password",required:!0}))),n.a.createElement("button",{className:"login__form-submit",type:"submit"},"Submit")),n.a.createElement(p.b,{to:"/registration",className:"login__registration-link"},"Registration"))}}]),t}(n.a.Component)),k=(t(53),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={name:"",email:"",password:""},e.onNameChange=function(a){e.setState({name:a.target.value})},e.onEmailChange=function(a){e.setState({email:a.target.value})},e.onPasswordChange=function(a){e.setState({password:a.target.value})},e.onSubmit=function(a){a.preventDefault(),e.props.registration(e.state.name,e.state.email,e.state.password),e.setState({name:"",email:"",password:""})},e}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props.isAuth,a=this.state,t=a.name,r=a.email,i=a.password;return"ok"===e?n.a.createElement(d.a,{to:"/"}):n.a.createElement("div",{className:"registration container"},n.a.createElement("h2",{className:"registration__form-title"},"Create User"),n.a.createElement("form",{className:"registration__form",method:"post",onSubmit:this.onSubmit},n.a.createElement("div",{className:"registration__form-inputs"},n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"name-reg"},"Name"),n.a.createElement("input",{className:"form-input",type:"name",name:"name",placeholder:"Your name",onChange:this.onNameChange,value:t,id:"name-reg",required:!0})),n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"email-reg"},"E-mail"),n.a.createElement("input",{className:"form-input",type:"email",name:"email",placeholder:"Your name",onChange:this.onEmailChange,value:r,id:"email-reg",required:!0})),n.a.createElement("div",{className:"form-input__wrapper"},n.a.createElement("label",{className:"form-title",htmlFor:"password-reg"},"Password"),n.a.createElement("input",{className:"form-input",type:"password",name:"password",placeholder:"Your password",onChange:this.onPasswordChange,value:i,id:"password-reg",required:!0}))),n.a.createElement("button",{className:"registration__form-submit",type:"submit"},"Submit")))}}]),t}(n.a.Component)),z=[{id:1,basket:null,name:"admin",email:"admin@admin.ru",password:"123456",group:"admin",historyOrder:null},{id:2,basket:[{id:1,quantity:2,price:15,name:"The Meats"},{id:3,quantity:3,price:12,name:"Meatball Pepperoni"}],name:"Alex",email:"alex@mail.ru",password:"Alexandro69",group:"user",historyOrder:null},{id:3,basket:null,name:"Nik",email:"Nik@gmail.com",password:"NikB228",group:"user",historyOrder:[{orderId:10001,totalQuantity:5,totalPrice:75,address:"Moscow, Lenina street 12, app 80"},{orderId:10002,totalQuantity:1,totalPrice:16,address:"Moscow, Lenina street 12, app 80"}]},{id:4,basket:[{id:5,quantity:2,price:18,name:"Ultimate Pepperoni"},{id:3,quantity:3,price:12,name:"Meatball Pepperoni"},{id:1,quantity:2,price:15,name:"The Meats"}],name:"Petr",email:"Petr@ya.ru",password:"Petr",group:"user",historyOrder:null}],O=(t(54),t(55),function(e){e.id;var a=e.item,t=e.currentPrice,r=a.totalQuantity,i=a.totalPrice,s=a.address,c="$",l=i;return"euro"===t&&(l=Number((.8*l).toFixed(2)),c="\u20ac"),n.a.createElement("li",{className:"user-info__item-order"},n.a.createElement("div",{className:"item-order__wrapper"},n.a.createElement("span",{className:"item-order__detail"},"Quantity:"),n.a.createElement("span",{className:"item-order__detail-value"},r)),n.a.createElement("div",{className:"item-order__wrapper"},n.a.createElement("span",{className:"item-order__detail"},"Price total:"),n.a.createElement("span",{className:"item-order__detail-value"},l," ",c)),n.a.createElement("div",{className:"item-order__wrapper"},n.a.createElement("span",{className:"item-order__detail"},"Address:"),n.a.createElement("span",{className:"item-order__detail-value"},s)))}),P=function(e){var a=e.user,t=e.isAuth,r=e.currentPrice,i="History Empty";if(a){var s=a.name,c=a.email,l=a.historyOrder,o=a.group;return l&&(i=l.map((function(e){return n.a.createElement(O,{item:e,key:e.orderId,currentPrice:r})}))),n.a.createElement("div",{className:"user-info container"},n.a.createElement("h2",{className:"user-info__title"},"User Info"),n.a.createElement("ul",{className:"user-info__list-info"},n.a.createElement("li",{className:"user-info__item"},n.a.createElement("span",{className:"user-info__item-text"},"Name:"),n.a.createElement("span",{className:"user-info__item-value"},s)),n.a.createElement("li",{className:"user-info__item"},n.a.createElement("span",{className:"user-info__item-text"},"E-mail:"),n.a.createElement("span",{className:"user-info__item-value"},c)),n.a.createElement("li",{className:"user-info__item"},n.a.createElement("span",{className:"user-info__item-text"},"User group:"),n.a.createElement("span",{className:"user-info__item-value"},o))),n.a.createElement("h2",{className:"user-info__title"},"Order history"),n.a.createElement("ul",{className:"user-info__list-order"},i))}if("ok"!==t)return n.a.createElement(d.a,{to:"/login"})},C=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={currentPrice:"dollar",isAuth:!1,basket:null,user:null},e.addToBasket=function(a,t,r,n){var i=e.state.basket,s=[],c=0;i&&i.forEach((function(e){e.id===a?(e.quantity+=t,s.push(e),c++):s.push(e)})),0===c&&s.push({id:a,quantity:t,price:r,name:n}),e.setState({basket:s})},e.updateQuantity=function(e){var a=0;return e.map((function(e){return a+=e.quantity})),a},e.updateCurPrice=function(a){e.setState({currentPrice:a})},e.updateBasketItem=function(a,t){var r=null,n=Object(c.a)(e.state.basket.map((function(e,n){return e.id===a&&(e.quantity=t),0===e.quantity&&(r=n),e})));null!==r&&n.splice(r,1),e.setState({basket:n})},e.loginUser=function(a,t){var r=null,n=null;if(z.forEach((function(e,i){e.email===a&&e.password===t&&(r="ok",n=i)})),"ok"===r){var i=z[n];e.setState({isAuth:r,user:i,basket:i.basket})}else e.setState({isAuth:"error"})},e.registration=function(a,t,r){var n=0;z.forEach((function(e){e.id>=n&&(n=e.id)})),z.push({id:n++,basket:null,name:a,email:t,password:r,group:"users"}),e.setState({isAuth:"ok",user:{id:n++,basket:null,name:a,email:t,password:r,group:"users"},basket:null})},e.logOut=function(){e.setState({isAuth:!1,basket:null,user:null})},e}return Object(o.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.basket,r=a.currentPrice,i=a.isAuth,s=a.user,c=0;return t&&(c=this.updateQuantity(t)),n.a.createElement("div",{className:"pizza-wrapper"},n.a.createElement(p.a,{basename:"/pizza"},n.a.createElement(_,{quantity:c,updateCurPrice:this.updateCurPrice,currentPrice:r,state:this.state,logOut:this.logOut}),n.a.createElement("main",{className:"pizza-content"},n.a.createElement(d.b,{path:"/",render:function(){return n.a.createElement(v,{addToBasket:e.addToBasket,currentPrice:r})},exact:!0}),n.a.createElement(d.b,{path:"/basket/",render:function(){return n.a.createElement(y,{basket:t,currentPrice:r,quantity:e.updateBasketItem})},exact:!0}),n.a.createElement(d.b,{path:"/basket/order",render:function(){return n.a.createElement(g,{basket:t,currentPrice:r})}}),n.a.createElement(d.b,{path:"/login",render:function(){return n.a.createElement(w,{loginUser:e.loginUser,isAuth:i})}}),n.a.createElement(d.b,{path:"/registration",render:function(){return n.a.createElement(k,{registration:e.registration,isAuth:i})}}),n.a.createElement(d.b,{path:"/user-info",render:function(){return n.a.createElement(P,{user:s,isAuth:i,currentPrice:r})}}))))}}]),t}(n.a.Component);s.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[22,1,2]]]);
//# sourceMappingURL=main.7f699b29.chunk.js.map